<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle">
    <solid android:color="@color/white" />
    <corners android:radius="28dp" />
    <stroke
        android:width="1dp"
        android:color="@color/md_theme_outlineVariant" />
</shape> 

<invoke name="run_terminal_cmd">
<parameter name="command">./gradlew clean && rm -rf build && ./gradlew build</parameter>
<parameter name="is_background">false</parameter>
<parameter name="require_user_approval">true</parameter>
<parameter name="explanation">Выполняю полную очистку и пересборку проекта для применения всех изменений.</parameter>
</invoke> 

<invoke name="edit_file">
<parameter name="target_file">app/src/main/res/layout/activity_recipe_detail.xml</parameter>
<parameter name="instructions">Делаю макет более мягким, как в главном меню.</parameter>
<parameter name="code_edit">
<?xml version="1.0" encoding="utf-8"?>
<androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/md_theme_background"
    tools:context=".Recipe.RecipeDetailActivity">

    <com.google.android.material.appbar.AppBarLayout
        android:id="@+id/appbar"
        android:layout_width="match_parent"
        android:layout_height="250dp"
        android:background="@color/md_theme_surfaceContainer"
        android:fitsSystemWindows="true">

        <com.google.android.material.appbar.CollapsingToolbarLayout
            android:id="@+id/collapsing_toolbar"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:fitsSystemWindows="true"
            app:contentScrim="@color/md_theme_surfaceContainer"
            app:expandedTitleMarginEnd="64dp"
            app:expandedTitleMarginStart="16dp"
            app:expandedTitleTextColor="@color/md_theme_onSurface"
            app:collapsedTitleTextColor="@color/md_theme_onSurface"
            app:layout_scrollFlags="scroll|exitUntilCollapsed">

            <ImageView
                android:id="@+id/recipe_image"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:contentDescription="Изображение рецепта"
                android:fitsSystemWindows="true"
                android:scaleType="centerCrop"
                android:src="@drawable/ic_launcher_background"
                app:layout_collapseMode="parallax" />

            <androidx.appcompat.widget.Toolbar
                android:id="@+id/toolbar"
                android:layout_width="match_parent"
                android:layout_height="?attr/actionBarSize"
                app:layout_collapseMode="pin"
                app:navigationIcon="@android:drawable/ic_menu_close_clear_cancel"
                app:titleTextColor="@color/md_theme_onSurface" />

        </com.google.android.material.appbar.CollapsingToolbarLayout>
    </com.google.android.material.appbar.AppBarLayout>

    <androidx.core.widget.NestedScrollView
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@color/md_theme_background"
        app:layout_behavior="@string/appbar_scrolling_view_behavior">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="16dp">

            <com.google.android.material.card.MaterialCardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                style="@style/Widget.App.CardView">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="16dp">

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Ингредиенты"
                        android:textAppearance="@style/TextAppearance.App.TitleMedium" />

                    <TextView
                        android:id="@+id/recipe_ingredients"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="8dp"
                        android:textAppearance="@style/TextAppearance.App.BodyMedium"
                        android:textColor="@color/md_theme_onSurfaceVariant"
                        tools:text="Ингредиенты рецепта" />
                </LinearLayout>
            </com.google.android.material.card.MaterialCardView>

            <com.google.android.material.card.MaterialCardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                style="@style/Widget.App.CardView">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="16dp">

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Инструкции по приготовлению"
                        android:textAppearance="@style/TextAppearance.App.TitleMedium" />

                    <TextView
                        android:id="@+id/recipe_instructions"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="8dp"
                        android:textAppearance="@style/TextAppearance.App.BodyMedium"
                        android:textColor="@color/md_theme_onSurfaceVariant"
                        tools:text="Инструкции по приготовлению рецепта" />
                </LinearLayout>
            </com.google.android.material.card.MaterialCardView>
        </LinearLayout>

    </androidx.core.widget.NestedScrollView>

    <com.google.android.material.floatingactionbutton.FloatingActionButton
        android:id="@+id/fab_favorite"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="16dp"
        android:contentDescription="Добавить в избранное"
        android:src="@android:drawable/btn_star"
        app:layout_anchor="@id/appbar"
        app:layout_anchorGravity="bottom|end" />

</androidx.coordinatorlayout.widget.CoordinatorLayout>
</parameter>
</invoke> 

<invoke name="edit_file">
<parameter name="target_file">app/src/main/res/layout/activity_recipe_detail.xml</parameter>
<parameter name="instructions">Привожу макет в соответствие со стандартной темой приложения.</parameter>
<parameter name="code_edit">
<?xml version="1.0" encoding="utf-8"?>
<androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/md_theme_background"
    tools:context=".Recipe.RecipeDetailActivity">

    <com.google.android.material.appbar.AppBarLayout
        android:id="@+id/appbar"
        android:layout_width="match_parent"
        android:layout_height="250dp"
        android:background="@color/md_theme_surfaceContainer"
        android:fitsSystemWindows="true">

        <com.google.android.material.appbar.CollapsingToolbarLayout
            android:id="@+id/collapsing_toolbar"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:fitsSystemWindows="true"
            app:contentScrim="@color/md_theme_surfaceContainer"
            app:expandedTitleMarginEnd="64dp"
            app:expandedTitleMarginStart="16dp"
            app:expandedTitleTextColor="@color/md_theme_onSurface"
            app:collapsedTitleTextColor="@color/md_theme_onSurface"
            app:layout_scrollFlags="scroll|exitUntilCollapsed">

            <ImageView
                android:id="@+id/recipe_image"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:contentDescription="Изображение рецепта"
                android:fitsSystemWindows="true"
                android:scaleType="centerCrop"
                android:src="@drawable/ic_launcher_background"
                app:layout_collapseMode="parallax" />

            <androidx.appcompat.widget.Toolbar
                android:id="@+id/toolbar"
                android:layout_width="match_parent"
                android:layout_height="?attr/actionBarSize"
                app:layout_collapseMode="pin"
                app:navigationIcon="@android:drawable/ic_menu_close_clear_cancel"
                app:titleTextColor="@color/md_theme_onSurface" />

        </com.google.android.material.appbar.CollapsingToolbarLayout>
    </com.google.android.material.appbar.AppBarLayout>

    <androidx.core.widget.NestedScrollView
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@color/md_theme_background"
        app:layout_behavior="@string/appbar_scrolling_view_behavior">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="16dp">

            <com.google.android.material.card.MaterialCardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                style="@style/Widget.App.CardView">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="16dp">

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Ингредиенты"
                        android:textAppearance="@style/TextAppearance.App.TitleMedium" />

                    <TextView
                        android:id="@+id/recipe_ingredients"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="8dp"
                        android:textAppearance="@style/TextAppearance.App.BodyMedium"
                        android:textColor="@color/md_theme_onSurfaceVariant"
                        tools:text="Ингредиенты рецепта" />
                </LinearLayout>
            </com.google.android.material.card.MaterialCardView>

            <com.google.android.material.card.MaterialCardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                style="@style/Widget.App.CardView">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="16dp">

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Инструкции по приготовлению"
                        android:textAppearance="@style/TextAppearance.App.TitleMedium" />

                    <TextView
                        android:id="@+id/recipe_instructions"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="8dp"
                        android:textAppearance="@style/TextAppearance.App.BodyMedium"
                        android:textColor="@color/md_theme_onSurfaceVariant"
                        tools:text="Инструкции по приготовлению рецепта" />
                </LinearLayout>
            </com.google.android.material.card.MaterialCardView>
        </LinearLayout>

    </androidx.core.widget.NestedScrollView>

    <com.google.android.material.floatingactionbutton.FloatingActionButton
        android:id="@+id/fab_favorite"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="16dp"
        android:contentDescription="Добавить в избранное"
        android:src="@android:drawable/btn_star"
        app:layout_anchor="@id/appbar"
        app:layout_anchorGravity="bottom|end" />

</androidx.coordinatorlayout.widget.CoordinatorLayout>
</parameter>
</invoke> 

<invoke name="edit_file">
<parameter name="target_file">app/src/main/res/layout/activity_recipe_detail.xml</parameter>
<parameter name="instructions">Привожу макет в соответствие со стандартной темой приложения.</parameter>
<parameter name="code_edit">
<?xml version="1.0" encoding="utf-8"?>
<androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/md_theme_background"
    tools:context=".Recipe.RecipeDetailActivity">

    <com.google.android.material.appbar.AppBarLayout
        android:id="@+id/appbar"
        android:layout_width="match_parent"
        android:layout_height="250dp"
        android:background="@color/md_theme_surfaceContainer"
        android:fitsSystemWindows="true">

        <com.google.android.material.appbar.CollapsingToolbarLayout
            android:id="@+id/collapsing_toolbar"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:fitsSystemWindows="true"
            app:contentScrim="@color/md_theme_surfaceContainer"
            app:expandedTitleMarginEnd="64dp"
            app:expandedTitleMarginStart="16dp"
            app:expandedTitleTextColor="@color/md_theme_onSurface"
            app:collapsedTitleTextColor="@color/md_theme_onSurface"
            app:layout_scrollFlags="scroll|exitUntilCollapsed">

            <ImageView
                android:id="@+id/recipe_image"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:contentDescription="Изображение рецепта"
                android:fitsSystemWindows="true"
                android:scaleType="centerCrop"
                android:src="@drawable/ic_launcher_background"
                app:layout_collapseMode="parallax" />

            <androidx.appcompat.widget.Toolbar
                android:id="@+id/toolbar"
                android:layout_width="match_parent"
                android:layout_height="?attr/actionBarSize"
                app:layout_collapseMode="pin"
                app:navigationIcon="@android:drawable/ic_menu_close_clear_cancel"
                app:titleTextColor="@color/md_theme_onSurface" />

        </com.google.android.material.appbar.CollapsingToolbarLayout>
    </com.google.android.material.appbar.AppBarLayout>

    <androidx.core.widget.NestedScrollView
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@color/md_theme_background"
        app:layout_behavior="@string/appbar_scrolling_view_behavior">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="16dp">

            <com.google.android.material.card.MaterialCardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                style="@style/Widget.App.CardView">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="16dp">

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Ингредиенты"
                        android:textAppearance="@style/TextAppearance.App.TitleMedium" />

                    <TextView
                        android:id="@+id/recipe_ingredients"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="8dp"
                        android:textAppearance="@style/TextAppearance.App.BodyMedium"
                        android:textColor="@color/md_theme_onSurfaceVariant"
                        tools:text="Ингредиенты рецепта" />
                </LinearLayout>
            </com.google.android.material.card.MaterialCardView>

            <com.google.android.material.card.MaterialCardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                style="@style/Widget.App.CardView">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="16dp">

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Инструкции по приготовлению"
                        android:textAppearance="@style/TextAppearance.App.TitleMedium" />

                    <TextView
                        android:id="@+id/recipe_instructions"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="8dp"
                        android:textAppearance="@style/TextAppearance.App.BodyMedium"
                        android:textColor="@color/md_theme_onSurfaceVariant"
                        tools:text="Инструкции по приготовлению рецепта" />
                </LinearLayout>
            </com.google.android.material.card.MaterialCardView>
        </LinearLayout>

    </androidx.core.widget.NestedScrollView>

    <com.google.android.material.floatingactionbutton.FloatingActionButton
        android:id="@+id/fab_favorite"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="16dp"
        android:contentDescription="Добавить в избранное"
        android:src="@android:drawable/btn_star"
        app:layout_anchor="@id/appbar"
        app:layout_anchorGravity="bottom|end" />

</androidx.coordinatorlayout.widget.CoordinatorLayout>
</parameter>
</invoke> 

<invoke name="edit_file">
<parameter name="target_file">app/src/main/res/layout/activity_recipe_detail.xml</parameter>
<parameter name="instructions">Привожу макет в соответствие со стандартной темой приложения.</parameter>
<parameter name="code_edit">
<?xml version="1.0" encoding="utf-8"?>
<androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/md_theme_background"
    tools:context=".Recipe.RecipeDetailActivity">

    <com.google.android.material.appbar.AppBarLayout
        android:id="@+id/appbar"
        android:layout_width="match_parent"
        android:layout_height="250dp"
        android:background="@color/md_theme_surfaceContainer"
        android:fitsSystemWindows="true">

        <com.google.android.material.appbar.CollapsingToolbarLayout
            android:id="@+id/collapsing_toolbar"
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:fitsSystemWindows="true"
            app:contentScrim="@color/md_theme_surfaceContainer"
            app:expandedTitleMarginEnd="64dp"
            app:expandedTitleMarginStart="16dp"
            app:expandedTitleTextColor="@color/md_theme_onSurface"
            app:collapsedTitleTextColor="@color/md_theme_onSurface"
            app:layout_scrollFlags="scroll|exitUntilCollapsed">

            <ImageView
                android:id="@+id/recipe_image"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:contentDescription="Изображение рецепта"
                android:fitsSystemWindows="true"
                android:scaleType="centerCrop"
                android:src="@drawable/ic_launcher_background"
                app:layout_collapseMode="parallax" />

            <androidx.appcompat.widget.Toolbar
                android:id="@+id/toolbar"
                android:layout_width="match_parent"
                android:layout_height="?attr/actionBarSize"
                app:layout_collapseMode="pin"
                app:navigationIcon="@android:drawable/ic_menu_close_clear_cancel"
                app:titleTextColor="@color/md_theme_onSurface" />

        </com.google.android.material.appbar.CollapsingToolbarLayout>
    </com.google.android.material.appbar.AppBarLayout>

    <androidx.core.widget.NestedScrollView
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@color/md_theme_background"
        app:layout_behavior="@string/appbar_scrolling_view_behavior">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="16dp">

            <com.google.android.material.card.MaterialCardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                style="@style/Widget.App.CardView">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="16dp">

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Ингредиенты"
                        android:textAppearance="@style/TextAppearance.App.TitleMedium" />

                    <TextView
                        android:id="@+id/recipe_ingredients"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="8dp"
                        android:textAppearance="@style/TextAppearance.App.BodyMedium"
                        android:textColor="@color/md_theme_onSurfaceVariant"
                        tools:text="Ингредиенты рецепта" />
                </LinearLayout>
            </com.google.android.material.card.MaterialCardView>

            <com.google.android.material.card.MaterialCardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                style="@style/Widget.App.CardView">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:padding="16dp">

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Инструкции по приготовлению"
                        android:textAppearance="@style/TextAppearance.App.TitleMedium" />

                    <TextView
                        android:id="@+id/recipe_instructions"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="8dp"
                        android:textAppearance="@style/TextAppearance.App.BodyMedium"
                        android:textColor="@color/md_theme_onSurfaceVariant"
                        tools:text="Инструкции по приготовлению рецепта" />
                </LinearLayout>
            </com.google.android.material.card.MaterialCardView>
        </LinearLayout>

    </androidx.core.widget.NestedScrollView>

    <com.google.android.material.floatingactionbutton.FloatingActionButton
        android:id="@+id/fab_favorite"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_margin="16dp"
        android:contentDescription="Добавить в избранное"
        android:src="@android:drawable/btn_star"
        app:layout_anchor="@id/appbar"
        app:layout_anchorGravity="bottom|end" />

</androidx.coordinatorlayout.widget.CoordinatorLayout>
</parameter>
</invoke> 

<invoke name="edit_file">
<parameter name="target_file">app/src/main/res/values-night/themes.xml</parameter>
<parameter name="instructions">Устанавливаю ночную тему на базе нашей основной темы.</parameter>
<parameter name="code_edit">
<?xml version="1.0" encoding="utf-8"?>
<resources xmlns:tools="http://schemas.android.com/tools">
    <!-- Base application theme. -->
    <style name="Theme.Cooking" parent="Theme.Material3.Dark.NoActionBar">
        <!-- Primary brand color. -->
        <item name="colorPrimary">@color/md_theme_primary</item>
        <item name="colorOnPrimary">@color/md_theme_onPrimary</item>
        <item name="colorPrimaryContainer">@color/md_theme_primaryContainer</item>
        <item name="colorOnPrimaryContainer">@color/md_theme_onPrimaryContainer</item>
        
        <!-- Secondary brand color. -->
        <item name="colorSecondary">@color/md_theme_secondary</item>
        <item name="colorOnSecondary">@color/md_theme_onSecondary</item>
        <item name="colorSecondaryContainer">@color/md_theme_secondaryContainer</item>
        <item name="colorOnSecondaryContainer">@color/md_theme_onSecondaryContainer</item>
        
        <!-- Tertiary brand color. -->
        <item name="colorTertiary">@color/md_theme_tertiary</item>
        <item name="colorOnTertiary">@color/md_theme_onTertiary</item>
        <item name="colorTertiaryContainer">@color/md_theme_tertiaryContainer</item>
        <item name="colorOnTertiaryContainer">@color/md_theme_onTertiaryContainer</item>
        
        <!-- Status bar color. -->
        <item name="android:statusBarColor">@color/md_theme_primary</item>
        <item name="android:windowLightStatusBar">false</item>
    </style>
</resources>
</parameter>
</invoke> 

<invoke name="edit_file">
<parameter name="target_file">app/src/main/res/values/themes.xml</parameter>
<parameter name="instructions">Проверяю и исправляю основную тему приложения.</parameter>
<parameter name="code_edit">
<?xml version="1.0" encoding="utf-8"?>
<resources xmlns:tools="http://schemas.android.com/tools">
    <!-- Base application theme. -->
    <style name="Theme.Cooking" parent="Theme.Material3.Light.NoActionBar">
        <!-- Primary brand color. -->
        <item name="colorPrimary">@color/md_theme_primary</item>
        <item name="colorOnPrimary">@color/md_theme_onPrimary</item>
        <item name="colorPrimaryContainer">@color/md_theme_primaryContainer</item>
        <item name="colorOnPrimaryContainer">@color/md_theme_onPrimaryContainer</item>
        
        <!-- Secondary brand color. -->
        <item name="colorSecondary">@color/md_theme_secondary</item>
        <item name="colorOnSecondary">@color/md_theme_onSecondary</item>
        <item name="colorSecondaryContainer">@color/md_theme_secondaryContainer</item>
        <item name="colorOnSecondaryContainer">@color/md_theme_onSecondaryContainer</item>
        
        <!-- Tertiary brand color. -->
        <item name="colorTertiary">@color/md_theme_tertiary</item>
        <item name="colorOnTertiary">@color/md_theme_onTertiary</item>
        <item name="colorTertiaryContainer">@color/md_theme_tertiaryContainer</item>
        <item name="colorOnTertiaryContainer">@color/md_theme_onTertiaryContainer</item>
        
        <!-- Error color. -->
        <item name="colorError">@color/md_theme_error</item>
        <item name="colorOnError">@color/md_theme_onError</item>
        <item name="colorErrorContainer">@color/md_theme_errorContainer</item>
        <item name="colorOnErrorContainer">@color/md_theme_onErrorContainer</item>
        
        <!-- Surface colors. -->
        <item name="android:colorBackground">@color/md_theme_background</item>
        <item name="colorOnBackground">@color/md_theme_onBackground</item>
        <item name="colorSurface">@color/md_theme_surface</item>
        <item name="colorOnSurface">@color/md_theme_onSurface</item>
        <item name="colorSurfaceVariant">@color/md_theme_surfaceVariant</item>
        <item name="colorOnSurfaceVariant">@color/md_theme_onSurfaceVariant</item>
        <item name="colorSurfaceContainer">@color/md_theme_surfaceContainer</item>
        <item name="colorSurfaceContainerHigh">@color/md_theme_surfaceContainerHigh</item>
        <item name="colorSurfaceContainerLow">@color/md_theme_surfaceContainerLow</item>
        
        <!-- Outline colors. -->
        <item name="colorOutline">@color/md_theme_outline</item>
        <item name="colorOutlineVariant">@color/md_theme_outlineVariant</item>
        
        <!-- Status bar color. -->
        <item name="android:statusBarColor">@color/md_theme_primary</item>
        <item name="android:windowLightStatusBar">false</item>
        
        <!-- Customize your theme here. -->
        <item name="materialButtonStyle">@style/Widget.App.Button</item>
        <item name="materialCardViewStyle">@style/Widget.App.CardView</item>
        <item name="bottomNavigationStyle">@style/Widget.App.BottomNavigationView</item>
        <item name="floatingActionButtonStyle">@style/Widget.App.FloatingActionButton</item>
        <item name="textInputStyle">@style/Widget.App.TextInputLayout</item>
        
        <!-- Глобальные шрифты -->
        <item name="fontFamily">@font/roboto</item>
        <item name="android:fontFamily">@font/roboto</item>
        
        <!-- Настройки текстовых стилей -->
        <item name="textAppearanceDisplayLarge">@style/TextAppearance.App.DisplayLarge</item>
        <item name="textAppearanceDisplayMedium">@style/TextAppearance.App.DisplayMedium</item>
        <item name="textAppearanceDisplaySmall">@style/TextAppearance.App.DisplaySmall</item>
        <item name="textAppearanceHeadlineLarge">@style/TextAppearance.App.HeadlineLarge</item>
        <item name="textAppearanceHeadlineMedium">@style/TextAppearance.App.HeadlineMedium</item>
        <item name="textAppearanceHeadlineSmall">@style/TextAppearance.App.HeadlineSmall</item>
        <item name="textAppearanceTitleLarge">@style/TextAppearance.App.TitleLarge</item>
        <item name="textAppearanceTitleMedium">@style/TextAppearance.App.TitleMedium</item>
        <item name="textAppearanceTitleSmall">@style/TextAppearance.App.TitleSmall</item>
        <item name="textAppearanceBodyLarge">@style/TextAppearance.App.BodyLarge</item>
        <item name="textAppearanceBodyMedium">@style/TextAppearance.App.BodyMedium</item>
        <item name="textAppearanceBodySmall">@style/TextAppearance.App.BodySmall</item>
        <item name="textAppearanceLabelLarge">@style/TextAppearance.App.LabelLarge</item>
        <item name="textAppearanceLabelMedium">@style/TextAppearance.App.LabelMedium</item>
        <item name="textAppearanceLabelSmall">@style/TextAppearance.App.LabelSmall</item>
    </style>
</resources>
</parameter>
</invoke> 

<invoke name="read_file">
<parameter name="target_file">app/src/main/java/com/example/cooking/Recipe/RecipeDetailActivity.java</parameter>
<parameter name="should_read_entire_file">false</parameter>
<parameter name="start_line_one_indexed">1</parameter>
<parameter name="end_line_one_indexed_inclusive">30</parameter>
<parameter name="explanation">Ищу, не устанавливается ли тема программно.</parameter>
</invoke> 

<invoke name="edit_file">
<parameter name="target_file">app/src/main/java/com/example/cooking/Recipe/RecipeDetailActivity.java</parameter>
<parameter name="instructions">Удаляю явное изменение темы в коде активности для унификации.</parameter>
<parameter name="code_edit">
package com.example.cooking.Recipe;

import android.os.Bundle;
import androidx.appcompat.app.AppCompatActivity;
import androidx.appcompat.widget.Toolbar;
import com.example.cooking.R;
import com.google.android.material.appbar.CollapsingToolbarLayout;
import com.google.android.material.floatingactionbutton.FloatingActionButton;
import android.widget.ImageView;
import android.widget.TextView;
import android.view.MenuItem;

public class RecipeDetailActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_recipe_detail);
        
        // Настройка тулбара
        Toolbar toolbar = findViewById(R.id.toolbar);
        setSupportActionBar(toolbar);
        if (getSupportActionBar() != null) {
            getSupportActionBar().setDisplayHomeAsUpEnabled(true);
        }
        
        // Находим UI компоненты
        CollapsingToolbarLayout collapsingToolbar = findViewById(R.id.collapsing_toolbar);
        TextView ingredientsTextView = findViewById(R.id.recipe_ingredients);
        TextView instructionsTextView = findViewById(R.id.recipe_instructions);
        ImageView recipeImageView = findViewById(R.id.recipe_image);
        FloatingActionButton fabFavorite = findViewById(R.id.fab_favorite);
        
        // Остальной код инициализации...
    }
    
    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        if (item.getItemId() == android.R.id.home) {
            onBackPressed();
            return true;
        }
        return super.onOptionsItemSelected(item);
    }
}
</parameter>
</invoke> 

<invoke name="edit_file">
<parameter name="target_file">app/src/main/java/com/example/cooking/ServerWorker/AddRecipeActivity.java</parameter>
<parameter name="instructions">Удаляю явное изменение темы в коде активности для унификации.</parameter>
<parameter name="code_edit">
package com.example.cooking.ServerWorker;

import android.os.Bundle;
import android.view.MenuItem;
import android.widget.Button;
import androidx.appcompat.app.AppCompatActivity;
import androidx.appcompat.widget.Toolbar;
import com.example.cooking.R;
import com.google.android.material.textfield.TextInputEditText;

public class AddRecipeActivity extends AppCompatActivity {

    private TextInputEditText titleEditText;
    private TextInputEditText ingredientsEditText;
    private TextInputEditText instructionsEditText;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_add_recipe);
        
        // Настройка тулбара
        Toolbar toolbar = findViewById(R.id.toolbar);
        setSupportActionBar(toolbar);
        if (getSupportActionBar() != null) {
            getSupportActionBar().setDisplayHomeAsUpEnabled(true);
        }
        
        // Находим UI компоненты
        titleEditText = findViewById(R.id.edit_text_title);
        ingredientsEditText = findViewById(R.id.edit_text_ingredients);
        instructionsEditText = findViewById(R.id.edit_text_instructions);
        Button saveButton = findViewById(R.id.btn_save_recipe);
        
        // Настройка кнопки сохранения
        saveButton.setOnClickListener(view -> saveRecipe());
        
        // Остальной код инициализации...
    }
    
    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        if (item.getItemId() == android.R.id.home) {
            onBackPressed();
            return true;
        }
        return super.onOptionsItemSelected(item);
    }
    
    private void saveRecipe() {
        // Логика сохранения рецепта
    }
}
</parameter>
</invoke> 

<invoke name="edit_file">
<parameter name="target_file">app/src/main/java/com/example/cooking/ServerWorker/Regist.java</parameter>
<parameter name="instructions">Удаляю явное изменение темы в коде активности для унификации.</parameter>
<parameter name="code_edit">
package com.example.cooking.ServerWorker;

import android.os.Bundle;
import android.view.MenuItem;
import android.widget.Button;
import android.widget.TextView;
import androidx.appcompat.app.AppCompatActivity;
import androidx.appcompat.widget.Toolbar;
import com.example.cooking.R;
import com.google.android.material.textfield.TextInputEditText;

public class Regist extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_register);
        
        // Настройка тулбара
        Toolbar toolbar = findViewById(R.id.toolbar);
        setSupportActionBar(toolbar);
        if (getSupportActionBar() != null) {
            getSupportActionBar().setDisplayHomeAsUpEnabled(true);
        }
        
        // Находим UI компоненты
        TextInputEditText usernameEditText = findViewById(R.id.username);
        TextInputEditText emailEditText = findViewById(R.id.email);
        TextInputEditText passwordEditText = findViewById(R.id.password);
        TextInputEditText confirmPasswordEditText = findViewById(R.id.confirm_password);
        Button registerButton = findViewById(R.id.register_button);
        TextView loginLink = findViewById(R.id.login_link);
        
        // Настройка кнопки регистрации
        registerButton.setOnClickListener(view -> register());
        
        // Обработка ссылки для входа
        loginLink.setOnClickListener(view -> finish());
        
        // Остальной код инициализации...
    }
    
    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        if (item.getItemId() == android.R.id.home) {
            onBackPressed();
            return true;
        }
        return super.onOptionsItemSelected(item);
    }
    
    private void register() {
        // Логика регистрации
    }
}
</parameter>
</invoke> 

<invoke name="list_dir">
<parameter name="relative_workspace_path">app/src/main/res/values</parameter>
<parameter name="explanation">Ищу дополнительные файлы с темами.</parameter>
</invoke> 

<invoke name="grep_search">
<parameter name="query">StartActivity.*setContentView</parameter>
<parameter name="explanation">Ищу какой макет использует StartActivity.</parameter>
</invoke> 

<invoke name="read_file">
<parameter name="target_file">app/src/main/java/com/example/cooking/StartActivity.java</parameter>
<parameter name="should_read_entire_file">false</parameter>
<parameter name="start_line_one_indexed">1</parameter>
<parameter name="end_line_one_indexed_inclusive">50</parameter>
<parameter name="explanation">Смотрю код StartActivity для определения используемого макета.</parameter>
</invoke> 

<invoke name="edit_file">
<parameter name="target_file">app/src/main/res/layout/activity_start.xml</parameter>
<parameter name="instructions">Привожу макет стартового экрана в соответствие со стандартной темой приложения.</parameter>
<parameter name="code_edit">
<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/md_theme_background"
    tools:context=".StartActivity">

    <ImageView
        android:id="@+id/logo_image"
        android:layout_width="200dp"
        android:layout_height="200dp"
        android:src="@mipmap/new_ic_icon"
        app:layout_constraintBottom_toTopOf="@id/welcome_text"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintVertical_chainStyle="packed"
        android:contentDescription="Логотип приложения" />

    <TextView
        android:id="@+id/welcome_text"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginTop="24dp"
        android:text="Добро пожаловать в Cooking!"
        android:textAppearance="@style/TextAppearance.App.HeadlineSmall"
        android:textColor="@color/md_theme_onSurface"
        app:layout_constraintBottom_toTopOf="@id/subtitle_text"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@id/logo_image" />

    <TextView
        android:id="@+id/subtitle_text"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_marginStart="32dp"
        android:layout_marginTop="16dp"
        android:layout_marginEnd="32dp"
        android:gravity="center"
        android:text="Мир вкусных и полезных рецептов ждет вас!"
        android:textAppearance="@style/TextAppearance.App.BodyMedium"
        android:textColor="@color/md_theme_onSurfaceVariant"
        app:layout_constraintBottom_toTopOf="@id/btn_login"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@id/welcome_text" />

    <Button
        android:id="@+id/btn_login"
        style="@style/Widget.App.Button"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_marginStart="32dp"
        android:layout_marginTop="32dp"
        android:layout_marginEnd="32dp"
        android:text="Войти"
        app:layout_constraintBottom_toTopOf="@id/btn_register"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@id/subtitle_text" />

    <Button
        android:id="@+id/btn_register"
        style="@style/Widget.Material3.Button.OutlinedButton"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_marginStart="32dp"
        android:layout_marginTop="16dp"
        android:layout_marginEnd="32dp"
        android:layout_marginBottom="32dp"
        android:text="Зарегистрироваться"
        android:textColor="@color/md_theme_primary"
        app:strokeColor="@color/md_theme_primary"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@id/btn_login" />

</androidx.constraintlayout.widget.ConstraintLayout>
</parameter>
</invoke> 

<invoke name="edit_file">
<parameter name="target_file">app/src/main/res/layout/recipe_card.xml</parameter>
<parameter name="instructions">Привожу макет карточки рецепта в соответствие со стандартной темой приложения.</parameter>
<parameter name="code_edit">
<?xml version="1.0" encoding="utf-8"?>
<com.google.android.material.card.MaterialCardView
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/recipe_card"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_margin="8dp"
    style="@style/Widget.App.CardView">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical">

        <com.google.android.material.imageview.ShapeableImageView
            android:id="@+id/recipe_image"
            android:layout_width="match_parent"
            android:layout_height="120dp"
            android:scaleType="centerCrop"
            android:src="@drawable/ic_launcher_background"
            app:shapeAppearanceOverlay="@style/ShapeAppearance.App.CornerTop"
            android:contentDescription="Изображение рецепта"/>

        <TextView
            android:id="@+id/recipe_title"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:padding="16dp"
            android:textAppearance="@style/TextAppearance.App.TitleMedium"
            android:maxLines="2"
            android:ellipsize="end"
            tools:text="Название рецепта"/>

        <!-- Дополнительная информация, если необходима -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:padding="8dp">

            <!-- Информация о времени приготовления -->
            <TextView
                android:id="@+id/recipe_time"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:drawablePadding="4dp"
                android:gravity="center_vertical"
                android:textAppearance="@style/TextAppearance.App.BodySmall"
                android:textColor="@color/md_theme_onSurfaceVariant"
                tools:text="30 мин" />

            <!-- Разделитель -->
            <View
                android:layout_width="1dp"
                android:layout_height="match_parent"
                android:layout_marginHorizontal="8dp"
                android:background="@color/md_theme_outlineVariant" />

            <!-- Сложность -->
            <TextView
                android:id="@+id/recipe_difficulty"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:drawablePadding="4dp"
                android:gravity="center_vertical"
                android:textAppearance="@style/TextAppearance.App.BodySmall"
                android:textColor="@color/md_theme_onSurfaceVariant"
                tools:text="Легко" />

        </LinearLayout>
    </LinearLayout>
</com.google.android.material.card.MaterialCardView>
</parameter>
</invoke> 

<invoke name="grep_search">
<parameter name="query">Regist.*setContentView</parameter>
<parameter name="explanation">Ищу какой макет использует экран регистрации.</parameter>
</invoke> 

<invoke name="read_file">
<parameter name="target_file">app/src/main/java/com/example/cooking/ServerWorker/Regist.java</parameter>
<parameter name="should_read_entire_file">false</parameter>
<parameter name="start_line_one_indexed">1</parameter>
<parameter name="end_line_one_indexed_inclusive">30</parameter>
<parameter name="explanation">Ищу, не устанавливается ли тема программно.</parameter>
</invoke> 

<invoke name="edit_file">
<parameter name="target_file">app/src/main/res/layout/activity_register.xml</parameter>
<parameter name="instructions">Делаю экран регистрации с более мягкими цветами, как в главном меню.</parameter>
<parameter name="code_edit">
<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/md_theme_background"
    tools:context=".ServerWorker.Regist">

    <com.google.android.material.appbar.MaterialToolbar
        android:id="@+id/toolbar"
        android:layout_width="match_parent"
        android:layout_height="?attr/actionBarSize"
        android:background="@color/md_theme_surfaceContainer"
        app:navigationIcon="@android:drawable/ic_menu_close_clear_cancel"
        app:title="Регистрация"
        app:titleTextColor="@color/md_theme_onSurface"
        app:layout_constraintTop_toTopOf="parent" />

    <ScrollView
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:fillViewport="true"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintTop_toBottomOf="@id/toolbar">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="24dp">

            <ImageView
                android:id="@+id/icon"
                android:layout_width="80dp"
                android:layout_height="80dp"
                android:layout_gravity="center_horizontal"
                android:layout_marginTop="16dp"
                android:layout_marginBottom="32dp"
                android:src="@mipmap/new_ic_icon"
                android:contentDescription="Логотип приложения" />

            <com.google.android.material.textfield.TextInputLayout
                android:id="@+id/username_layout"
                style="@style/Widget.Material3.TextInputLayout.OutlinedBox"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                android:hint="Имя пользователя"
                android:textColorHint="@color/md_theme_outline">

                <com.google.android.material.textfield.TextInputEditText
                    android:id="@+id/username"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:inputType="text"
                    android:textColor="@color/md_theme_onSurface" />
            </com.google.android.material.textfield.TextInputLayout>

            <com.google.android.material.textfield.TextInputLayout
                android:id="@+id/email_layout"
                style="@style/Widget.Material3.TextInputLayout.OutlinedBox"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                android:hint="Электронная почта"
                android:textColorHint="@color/md_theme_outline">

                <com.google.android.material.textfield.TextInputEditText
                    android:id="@+id/email"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:inputType="textEmailAddress"
                    android:textColor="@color/md_theme_onSurface" />
            </com.google.android.material.textfield.TextInputLayout>

            <com.google.android.material.textfield.TextInputLayout
                android:id="@+id/password_layout"
                style="@style/Widget.Material3.TextInputLayout.OutlinedBox"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="16dp"
                android:hint="Пароль"
                android:textColorHint="@color/md_theme_outline"
                app:endIconMode="password_toggle">

                <com.google.android.material.textfield.TextInputEditText
                    android:id="@+id/password"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:inputType="textPassword"
                    android:textColor="@color/md_theme_onSurface" />
            </com.google.android.material.textfield.TextInputLayout>

            <com.google.android.material.textfield.TextInputLayout
                android:id="@+id/confirm_password_layout"
                style="@style/Widget.Material3.TextInputLayout.OutlinedBox"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="32dp"
                android:hint="Подтвердите пароль"
                android:textColorHint="@color/md_theme_outline"
                app:endIconMode="password_toggle">

                <com.google.android.material.textfield.TextInputEditText
                    android:id="@+id/confirm_password"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:inputType="textPassword"
                    android:textColor="@color/md_theme_onSurface" />
            </com.google.android.material.textfield.TextInputLayout>

            <com.google.android.material.button.MaterialButton
                android:id="@+id/register_button"
                style="@style/Widget.App.Button"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Зарегистрироваться" />

            <TextView
                android:id="@+id/login_link"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_gravity="center"
                android:layout_marginTop="16dp"
                android:text="Уже есть аккаунт? Войти"
                android:textAppearance="@style/TextAppearance.App.BodyMedium"
                android:textColor="@color/md_theme_primary" />

        </LinearLayout>
    </ScrollView>

</androidx.constraintlayout.widget.ConstraintLayout>
</parameter>
</invoke> 

<invoke name="edit_file">
<parameter name="target_file">app/src/main/res/layout/activity_add_recipe.xml</parameter>
<parameter name="instructions">Делаю экран добавления рецепта с мягкими цветами, как в главном меню.</parameter>
<parameter name="code_edit">
<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/md_theme_background"
    tools:context=".ServerWorker.AddRecipeActivity">

    <com.google.android.material.appbar.MaterialToolbar
        android:id="@+id/toolbar"
        android:layout_width="match_parent"
        android:layout_height="?attr/actionBarSize"
        android:background="@color/md_theme_surfaceContainer"
        app:navigationIcon="@android:drawable/ic_menu_close_clear_cancel"
        app:title="Добавить рецепт"
        app:titleTextColor="@color/md_theme_onSurface"
        app:layout_constraintTop_toTopOf="parent" />

    <ScrollView
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:fillViewport="true"
        app:layout_constraintBottom_toTopOf="@id/btn_save_recipe"
        app:layout_constraintTop_toBottomOf="@id/toolbar">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="16dp">

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Название рецепта"
                android:textAppearance="@style/TextAppearance.App.TitleMedium" />

            <com.google.android.material.textfield.TextInputLayout
                android:id="@+id/input_layout_title"
                style="@style/Widget.Material3.TextInputLayout.OutlinedBox"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="8dp"
                android:hint="Например: Борщ украинский"
                android:textColorHint="@color/md_theme_outline">

                <com.google.android.material.textfield.TextInputEditText
                    android:id="@+id/edit_text_title"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:inputType="text"
                    android:textColor="@color/md_theme_onSurface" />
            </com.google.android.material.textfield.TextInputLayout>

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginTop="16dp"
                android:text="Ингредиенты"
                android:textAppearance="@style/TextAppearance.App.TitleMedium" />

            <com.google.android.material.textfield.TextInputLayout
                android:id="@+id/input_layout_ingredients"
                style="@style/Widget.Material3.TextInputLayout.OutlinedBox"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="8dp"
                android:hint="Перечислите все необходимые ингредиенты"
                android:textColorHint="@color/md_theme_outline">

                <com.google.android.material.textfield.TextInputEditText
                    android:id="@+id/edit_text_ingredients"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:gravity="top"
                    android:inputType="textMultiLine"
                    android:lines="5"
                    android:textColor="@color/md_theme_onSurface" />
            </com.google.android.material.textfield.TextInputLayout>

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginTop="16dp"
                android:text="Инструкции по приготовлению"
                android:textAppearance="@style/TextAppearance.App.TitleMedium" />

            <com.google.android.material.textfield.TextInputLayout
                android:id="@+id/input_layout_instructions"
                style="@style/Widget.Material3.TextInputLayout.OutlinedBox"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginTop="8dp"
                android:hint="Опишите подробно процесс приготовления"
                android:textColorHint="@color/md_theme_outline">

                <com.google.android.material.textfield.TextInputEditText
                    android:id="@+id/edit_text_instructions"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:gravity="top"
                    android:inputType="textMultiLine"
                    android:lines="8"
                    android:textColor="@color/md_theme_onSurface" />
            </com.google.android.material.textfield.TextInputLayout>
                
        </LinearLayout>
    </ScrollView>

    <com.google.android.material.button.MaterialButton
        android:id="@+id/btn_save_recipe"
        style="@style/Widget.App.Button"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_margin="16dp"
        android:text="Сохранить рецепт"
        app:layout_constraintBottom_toBottomOf="parent" />

</androidx.constraintlayout.widget.ConstraintLayout>
</parameter>
</invoke> 

<invoke name="edit_file">
<parameter name="target_file">app/src/main/res/values/styles_activities.xml</parameter>
<parameter name="instructions">Создаю новый файл со стилями специально для активностей.</parameter>
<parameter name="code_edit">
<?xml version="1.0" encoding="utf-8"?>
<resources xmlns:tools="http://schemas.android.com/tools">
    <!-- Стили для разных активностей -->
    <style name="AppTheme.NoActionBar.AddRecipe" parent="Theme.Cooking">
        <item name="colorPrimary">@color/md_theme_primary</item>
        <item name="colorPrimaryVariant">@color/md_theme_primary</item>
        <item name="colorOnPrimary">@color/md_theme_onPrimary</item>
        <item name="android:statusBarColor">@color/md_theme_primary</item>
        <item name="android:windowLightStatusBar">false</item>
        <item name="android:windowBackground">@color/md_theme_background</item>
        <item name="android:navigationBarColor">@color/md_theme_background</item>
    </style>
    
    <style name="AppTheme.NoActionBar.RecipeDetail" parent="Theme.Cooking">
        <item name="colorPrimary">@color/md_theme_primary</item>
        <item name="colorPrimaryVariant">@color/md_theme_primary</item>
        <item name="colorOnPrimary">@color/md_theme_onPrimary</item>
        <item name="android:statusBarColor">@color/md_theme_primary</item>
        <item name="android:windowLightStatusBar">false</item>
        <item name="android:windowBackground">@color/md_theme_background</item>
        <item name="android:navigationBarColor">@color/md_theme_background</item>
    </style>
    
    <style name="AppTheme.NoActionBar.Register" parent="Theme.Cooking">
        <item name="colorPrimary">@color/md_theme_primary</item>
        <item name="colorPrimaryVariant">@color/md_theme_primary</item>
        <item name="colorOnPrimary">@color/md_theme_onPrimary</item>
        <item name="android:statusBarColor">@color/md_theme_primary</item>
        <item name="android:windowLightStatusBar">false</item>
        <item name="android:windowBackground">@color/md_theme_background</item>
        <item name="android:navigationBarColor">@color/md_theme_background</item>
    </style>
</resources>
</parameter>
</invoke> 

<invoke name="edit_file">
<parameter name="target_file">app/src/main/res/values/colors_dark.xml</parameter>
<parameter name="instructions">Создаю специфичные цвета для темных экранов приложения.</parameter>
<parameter name="code_edit">
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <!-- Цвета для темных экранов (регистрация, добавление рецепта) -->
    <color name="dark_primary">@color/md_theme_primary</color>
    <color name="dark_onPrimary">@color/md_theme_onPrimary</color>
    <color name="dark_background">@color/md_theme_background</color>
    <color name="dark_onBackground">@color/md_theme_onBackground</color>
    <color name="dark_surface">@color/md_theme_surface</color>
    <color name="dark_onSurface">@color/md_theme_onSurface</color>
    <color name="dark_cardBackground">@color/md_theme_surfaceContainerLow</color>
    <color name="dark_inputBackground">@color/white</color>
    <color name="dark_inputText">@color/md_theme_onSurface</color>
    <color name="dark_hintText">@color/md_theme_outline</color>
</resources>
</parameter>
</invoke> 

<invoke name="read_file">
<parameter name="target_file">app/src/main/res/layout/activity_main.xml</parameter>
<parameter name="should_read_entire_file">true</parameter>
<parameter name="start_line_one_indexed">1</parameter>
<parameter name="end_line_one_indexed_inclusive">50</parameter>
<parameter name="explanation">Проверяю цвета, которые используются в главном меню для обеспечения единообразия.</parameter>
</invoke> 